---
tags:
  - 네트워크
date: 2024-03-26
---

> [!NOTE]
> 192.168.100.0/24 의 IP 주소범위를 서브네팅을 통해 4개로 나누는 실습을 진행합니다.
> 서브넷 생성후 PC에 서브넷 IP를 할당하여 통신해 볼 것입니다.
> 


# Subneting

기존 IP Address Class는 Class C로 마지막 8bit를 Host IP로 사용하였습니다.
IP를 4개로 나누기 위해 Host Bit중 2개를 Subnet bit로 사용합니다.

- **192.168.100.|00|000000**
	- 네트워크ID: 192.168.100.|00|000000
	- BroadCast: 192.168.100.|00|111111
	- 가용IP: 192.168.100.1 ~ 192.168.100.62
	- 서브넷마스크: 255.255.255.192

- **192.168.100.|01|000000**
	- 네트워크ID: 192.168.100.|01|000000
	- BroadCast: 192.168.100.|01|111111
	- 가용IP: 192.168.100.65 ~ 192.168.100.126
	- 서브넷마스크: 255.255.255.192

- **192.168.100.|10|000000**
	- 네트워크ID: 192.168.100.|10|000000
	- BroadCast: 192.168.100.|10|111111
	- 가용IP: 192.168.100.129 ~ 192.168.100.190
	- 서브넷마스크: 255.255.255.192

- **192.168.100.|11|000000**
	- 네트워크ID: 192.168.100.|11|000000
	- BroadCast: 192.168.100.|11|111111
	- 가용IP: 92.168.100.193 ~ 192.168.100.254
	- 서브넷마스크: 255.255.255.192

# PC에 IP 할당하기
아래와 같은 구성도로 네트워크를 구성합니다.
subnet 실습을 위해 2개의 PC에 각각 다른 subnet의 IP를 할당할 것입니다.
![[Pasted image 20240326174053.png|400]]

- **PC1** 
	- IP: 192.168.100.10
	- Subnet mask: 255.255.255.192
	- Gateway: 192.168.100.62

- **PC2**
	- IP: 192.168.100.65
	- Subnet mask: 255.255.255.192
	- Gateway: 192.168.100.126

### PC6 Setting
PC6 에는 192.168.100.10을 할당해 주었습니다.
이는 네트워크 ID가 192.168.100.|00|000000인 Subnet의 IP입니다.

다른 네트워크 ID를 가진 Subnet의 IP와 통신하기위해 Gateway IP를 192.168.100.62로 할당해 줍니다.

이후 Router에서 Router Interface에 192.168.100.62 IP를 할당해 줄 것입니다. 
Router Interface는 라우터가 다른 네트워크와 연결하는 데 사용하는 물리적 또는 가상 연결포트입니다.
![[Pasted image 20240326174321.png]]

IP Address에 가용 IP가 아닌 IP를 할당하면 어떻게 될까요?

만약 192.168.100.63으로 IP를 할당한다면 아래처럼 Invaild IP 라는 에러 메시지가 발생합니다.
192.168.100.63(192.168.100.|00|111111)는 ARP에서 사용하는 BroadCast IP이기 때문입니다.
![[Pasted image 20240326185911.png]]
![[Pasted image 20240326190013.png]]

### PC7 Setting
PC6과 마찬가지로 PC7에도 IP와 Subnet Mask, Default Gateway를 설정해 주었습니다. 
네트워크 ID가 192.168.100.|01|000000인 서브넷의 IP를 할당해 주었습니다.

Default Gateway가 PC6과 다른 이유는 Gateway의 IP와 IP Address는 같은 네트워크 ID를 갖고있어야 통신이 가능하기 때문입니다. (어떻게 보면 당연합니다.)
![[Pasted image 20240326191438.png]]

Router에서 Router Interface를 설정하기 전 PC6에서 PC7로 Ping을 날려보면, 연결이 되지 않는것을 볼 수 있습니다.
![[Pasted image 20240326191538.png]]


# Router 설정하기
Router CLI에서 enable 명령어 -> configure terminal 명령어를 입력하여 전역 설정 모드로 진입합니다.
전역 설정 모드에서 라우터 인터페이스를 수정할 수 있습니다.
특정 인터페이스로 들어갈 때는 interface <interface 이름> 명령어를 사용합니다

```
enable
configure terminal
interface f0/0
```

저희는 라우터 인터페이스를 수정할 것입니다. 이로써 서로 다른 서브넷의 IP의 기기 간 통신이 되게 할 것입니다.

Interface FastEthernet0/0에 ip 192.168.100.62, Subnet Mask 255.255.255.192를 설정해 주었습니다. 
```
ip addr 192.168.100.62 255.255.255.192
```

![[Pasted image 20240326190306.png]]

같은 방식으로 Interface FastEthernet0/1에도 192.168.100.62, 255.255.255.192를 설정해 주었습니다
![[Pasted image 20240326190512.png]]

아래 명령어로 라우터 인터페이스가 잘 설정 되었음을 확인합니다.
```
ip int brief //라우터의 모든 인터페이스에 대한 간략한 정보 표시
show ip route // 라우팅 테이블 정보 표시
```
ip int breif
![[Pasted image 20240326190825.png]]

show ip route
![[Pasted image 20240326190806.png]]

# 결과 확인

PC6에서 아래 명령어로 연결 여부를 확인합니다.
```
tracert 192.168.100.65 // 목적지 까지의 경로를 추적하는 명령어 
```

Gateway를 통해서 목적지로 잘 연결 되었음을 확인할 수 있습니다
![[Pasted image 20240326191659.png]]

---
# 궁금증

다른 클래스의 address끼리 통신이 될까?
routing table에 있다면 되지 않을까?